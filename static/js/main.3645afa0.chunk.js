(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},106:function(e,t,a){},108:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),l=(a(44),a(112)),o=a(111),s=a(113),u=a(115),m=function(e){var t=e.children;return r.a.createElement("div",{className:"l-container"},t)},A=function(){return r.a.createElement(m,null,r.a.createElement("h1",null,"Error 404 - page not found"))},d=a(114),f=(a(47),function(){return r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",{className:"menu"},r.a.createElement("li",{className:"menu__item"},r.a.createElement(d.a,{to:"/dashboard",className:"menu__link",activeClassName:"menu__link--active"},"Home")),r.a.createElement("li",{className:"menu__item"},r.a.createElement(d.a,{to:"/notifications",className:"menu__link",activeClassName:"menu__link--active"},"Notifications")),r.a.createElement("li",{className:"menu__item"},r.a.createElement(d.a,{to:"/messages",className:"menu__link",activeClassName:"menu__link--active"},"Messages"))))}),p=a(15),h=(a(53),function(e){var t=e.type,a=e.value,n=e.defaultValue,c=e.id,i=e.minLength,l=e.maxLength,o=e.name,s=e.required,u=e.autoComplete,m=e.disabled,A=e.ref,d=e.placeholder,f=e.theme;return r.a.createElement("div",{className:"input"},r.a.createElement("label",{className:"input__label"},r.a.createElement("input",{value:a,id:c,className:"input__main ".concat(f||""),type:t||"text",minLength:i,maxLength:l,name:o,placeholder:d,required:s,defaultValue:n,autoComplete:u,disabled:m,ref:A})))}),v=a(16),E=a(29),g=a(30),H=a(37),N=a(31),b=a(38),k=a(6),_=a.n(k),w=(a(23),a(12),{apiKey:"AIzaSyAEogoe65r1S4oLRcNAJuiSb_wLbEgOTZU",authDomain:"hooks-826f6.firebaseapp.com",databaseURL:"https://hooks-826f6.firebaseio.com",projectId:"hooks-826f6",storageBucket:"hooks-826f6.appspot.com",messagingSenderId:"201266744066"}),F=function(){var e=new _.a.auth.GoogleAuthProvider;return _.a.auth().signInWithRedirect(e)},I=function(){return _.a.auth().signOut()},O=Object(n.createContext)({}),C=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(H.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).state={auth:!1,user:null,error:null,loading:!1},a.onLogin=function(){a.setState({loading:!0}),F().then(function(){a.setState({loading:!1,auth:!0})}).catch(function(e){a.setState({loading:!1,error:e})})},a.onSignOut=function(){I().then(function(){a.setState({auth:!1,user:null})}).catch(function(e){a.setState({error:e})})},a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.removeListener=_.a.auth().onAuthStateChanged(function(t){t?e.setState({auth:!0,loading:!1,user:t}):e.setState({loading:!1})})}},{key:"componentWillUnmount",value:function(){this.removeListener()}},{key:"render",value:function(){return r.a.createElement(O.Provider,{value:Object(v.a)({},this.state,{onLogin:this.onLogin,onSignOut:this.onSignOut})},this.props.children)}}]),t}(n.Component),y=O.Consumer,x=(a(66),function(e){var t=e.children,a=e.theme,n=e.onClick,c=e.disabled;return r.a.createElement("button",{disabled:c,onClick:n,className:"button ".concat(a||"")},t)}),j=(a(69),function(){var e=Object(n.useContext)(O),t=e.onSignOut,a=e.user,c=Object(n.useState)(!1),i=Object(p.a)(c,2),l=i[0],o=i[1],s=a.displayName.split(" ").slice(0,2).join(" ");return r.a.createElement("aside",{className:"aside"},r.a.createElement("div",{className:"aside__search"},r.a.createElement(h,{autoComplete:"off",id:"search",name:"search",placeholder:"Search tuit",theme:"input__main--secondary"})),r.a.createElement("div",{className:"aside__profile"},r.a.createElement("img",{className:"aside__profile-image",src:a.photoURL,alt:"avatar",onClick:function(){return o(!l)}}),l&&r.a.createElement("div",{className:"aside__profile-menu"},r.a.createElement("p",{className:"aside__profile-username"}," ",s," "),r.a.createElement(x,{onClick:function(){return t()}},"Sign out"))))}),R=(a(72),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__container l-container"},r.a.createElement(f,null),r.a.createElement(j,null)))}),S=(a(75),function(e){var t=e.photoURL,a=e.displayName,n=e.email;return r.a.createElement("div",{className:"profile"},r.a.createElement("img",{className:"profile__avatar",src:t,alt:"avatar"}),r.a.createElement("p",{className:"profile__username"},a),r.a.createElement("p",{className:"profile__email"},n),r.a.createElement("div",{className:"profile__tuits"},r.a.createElement("p",{className:"profile__tuits-title"},"Tuits"),r.a.createElement("h3",{className:"profile__tuits-number"},"1")))}),T=(a(78),a(80),a(8)),M=(a(92),function(e){var t=e.photoURL,a=e.displayName,n=e.uid,c=_.a.firestore();c.settings({timestampsInSnapshots:!0});return r.a.createElement("form",{className:"tuitform",onSubmit:function(e){e.preventDefault();var r=e.target,i={text:r.tuit.value,displayName:a,photoURL:t,uid:n,date:Date.now(),likes:[]};c.collection("tuits").add(i).then(function(e){Object(T.toast)("tuit create correctly !",{position:T.toast.POSITION.BOTTOM_RIGHT,autoClose:2e3})}).catch(function(){T.toast.error("tuit create failed !",{position:T.toast.POSITION.BOTTOM_RIGHT})}),r.reset()}},r.a.createElement("img",{className:"tuitform__avatar",src:t,alt:"Avatar"}),r.a.createElement(h,{id:"tuit",name:"tuit",placeholder:"What's happening?",autoComplete:"off",maxLength:"140"}),r.a.createElement(T.ToastContainer,null))}),L=(a(94),function(){return r.a.createElement("div",{className:"sk-cube-grid"},r.a.createElement("div",{className:"sk-cube sk-cube1"}),r.a.createElement("div",{className:"sk-cube sk-cube2"}),r.a.createElement("div",{className:"sk-cube sk-cube3"}),r.a.createElement("div",{className:"sk-cube sk-cube4"}),r.a.createElement("div",{className:"sk-cube sk-cube5"}),r.a.createElement("div",{className:"sk-cube sk-cube6"}),r.a.createElement("div",{className:"sk-cube sk-cube7"}),r.a.createElement("div",{className:"sk-cube sk-cube8"}),r.a.createElement("div",{className:"sk-cube sk-cube9"}))}),U=a(11),V=a.n(U),B=a(19),G=(a(98),a(32)),D=a.n(G),J=a(33),Q=a.n(J),X=a(34),Y=a.n(X),W=function(e){var t=e.text,a=e.photoURL,c=e.displayName,i=e.date,l=e.likes,o=e.id,s=Object(n.useContext)(O).user,u=_.a.firestore();u.settings({timestampsInSnapshots:!0});var m=l.find(function(e){return e.displayName===s.displayName}),A=function(){var e=Object(B.a)(V.a.mark(function e(t){var a;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.collection("tuits").doc(t),e.prev=1,e.next=4,u.runTransaction(function(){var e=Object(B.a)(V.a.mark(function e(t){var n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(a);case 2:n=e.sent,(r=n.data().likes).find(function(e){return e.displayName===s.displayName})?r=r.filter(function(e){return e.displayName!==s.displayName}):r.push({displayName:s.displayName}),t.update(a,{likes:r});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Transaction failed: ",e.t0);case 9:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"tuit"},r.a.createElement("img",{className:"tuit__img",src:a,alt:"avatar"}),r.a.createElement("div",{className:"tuit__info"},r.a.createElement("h5",{className:"tuit__username"},c," ",r.a.createElement(D.a,{date:i})),r.a.createElement("p",{className:"tuit__text"},t),r.a.createElement(x,{theme:"button--like",onClick:function(){return A(o)}},m?r.a.createElement("img",{className:"tuit__like",src:Y.a,alt:"like"}):r.a.createElement("img",{className:"tuit__like",src:Q.a,alt:"like"})),r.a.createElement("span",{className:"tuit__like-count"},0===l.length?"":l.length," ")))},Z=(a(103),function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],i=_.a.firestore();return i.settings({timestampsInSnapshots:!0}),Object(n.useEffect)(function(){i.collection("tuits").orderBy("date","desc").onSnapshot(function(e){var t=[];e.forEach(function(e){t.push(Object(v.a)({},e.data(),{id:e.id})),c(t)})})},[]),r.a.createElement("div",{className:"tuits__container"},r.a.createElement("ul",{className:"tuits__list"},!a.length&&r.a.createElement(L,null),a.map(function(e,t){return r.a.createElement(W,Object.assign({key:t},e))})))}),K=function(e){return r.a.createElement("div",{className:"tuits"},r.a.createElement(M,e),r.a.createElement(Z,null))},z=function(){var e=Object(n.useContext)(O).user;return r.a.createElement(n.Fragment,null,r.a.createElement(R,null),r.a.createElement(m,null,r.a.createElement("div",{className:"dashboard"},r.a.createElement(S,e),r.a.createElement(K,e))))},P=a(35),q=a.n(P),$=(a(106),a(36)),ee=a.n($),te=function(){var e=Object(n.useContext)(O).onLogin,t=Object(n.useRef)();return Object(n.useEffect)(function(){return ee.a.init(t.current,{max:5,speed:200,glare:!0,"max-glare":.25}),function(){return t.current.vanillaTilt.destroy()}},[]),r.a.createElement("div",{className:"login"},r.a.createElement("div",{ref:t,className:"login__tilt"},r.a.createElement("img",{className:"login__image",src:q.a,alt:"Login background"})),r.a.createElement(x,{theme:"login__button",onClick:function(){return e()}},"Login"))},ae=function(e){var t=e.component,a=e.authed,n=e.rest;return r.a.createElement(o.a,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))},ne=function(e){var t=e.component,a=e.authed,n=e.rest;return r.a.createElement(o.a,Object.assign({},n,{render:function(e){return!1===a?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/dashboard"})}}))},re=function(e){var t=e.auth;return r.a.createElement(u.a,null,r.a.createElement(ne,{path:"/",exact:!0,authed:t,component:te}),r.a.createElement(ae,{path:"/dashboard",exact:!0,authed:t,component:z}),r.a.createElement(o.a,{component:A}))},ce=(a(108),function(){return r.a.createElement(C,null,r.a.createElement(y,null,function(e){var t=e.auth,a=e.loading;return r.a.createElement(n.Fragment,null,!0===a?r.a.createElement("div",{className:"loader--full"},r.a.createElement(L,null)):r.a.createElement(l.a,null,r.a.createElement(re,{auth:t})))}))}),ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}_.a.initializeApp(w),i.a.render(r.a.createElement(ce,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-practice",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/react-practice","/service-worker.js");ie?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):le(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):le(t,e)})}}()},33:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABGlBMVEUAAAD/HVf/IFv/H1r/IFn/HV3/AID/Hlv/Hln/H1r/IFr/G1v/HFX/Hlr/H1r/H1n/H1r/H1r/IVn/H1r/H1r/H1r/Hlr/IVz/H1v/Hln/IlX/K1X/IFj/H1r/H1r/H1v/IFr/IVr/HFX/G17/Hlr/H1r/H1r/AFX/H1r/H1r/H1r/Hlv/H1r/IFr/H1r/IFn/IFr/H1r/IFn/H1r/H1n/H1r/Hln/IFr/H1r/H1r/H1n/H1r/H1r/Hlr/H1r/IFr/H1r/H1r/H1z/IFX/F13/H1r/AAD/JFv/Hlv/H1r/IFr/H1r/Hln/Hlv/Hlr/IFr/IFv/H1v/Hlr/H1r/H1r/H1r/H1r/IFr/IFn/H1v/H1v/H1v/H1oAAADggSxkAAAAXHRSTlMAI1eCYSwCKlx6TxwSqP7k+s0u++WiESfnVg8GN8b5a8o+CRNd6eYDx86Fh89pY2cwr7GzruF+gODrdXTsuKe6fe8ZGAvcAQ47lpD9RVRVkV+SXvyTlFtYWZVaSVlwTXAAAAABYktHRACIBR1IAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4gsaEwk61oLpEQAAAPFJREFUKM9jYMAHGJmYWVjZQCw2dg5OLm6oMA9vDB+/QIygEAODkGCMsEhMjKgYSFxcQkJSikFaRlZOXl5OQVGJQVlFVU2cgUFdQ5MHrJFNKyZGWx3MVNbRUGfQlROCWaWnD2MZCOsyGBphc46xCYOpGTYJcwsGSytsEtY2DLa82CTs7BkcHJ0wxZ0dzRlcXI3dMCRMTN0ZGDyEPdFlvLx9QJQvuoyXNwuE4Ycq4+8dAGNKIssEegchFEkGw2VCvDmQjWWCyYQGh6E6JBwiExocge70CKCMW2RwOKZvgTKewkzYwicqWNiPASuI9mEgAgAA4aMhbzmw0GwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMTEtMjZUMTk6MDk6NTgrMDE6MDDTLtzAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTExLTI2VDE5OjA5OjU4KzAxOjAwonNkfAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},34:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAtFBMVEUAAAD/AAD/IFX/H1z/Hln/IFr/H1r/H1r/H1r/H1j/IFv/H1r/H1r/IFr/H1r/Hln/Hlv/H1n/H1n/HF7/H1r/H1v/H1r/H1r/H1r/H1r/Hln/IFn/H1n/IVz/H1r/H1r/H1r/Hlv/IFr/H1r/Hlr/Hlv/H1r/H1r/HVz/H1r/H1n/IFr/H1v/H1r/IVz/Hlr/H1r/H1r/I13/H1r/H1r/JFv/J2L/H1r/K1X/M2b/H1oAAACHaa4DAAAAOnRSTlMAARgZPLrv455LV6LliP1th2RqG/Fztezhy48ovy/0Uv52afxmVPj2TkE5MOffJyLbzxbNvA4NpQYFmTIaoAAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCxoTMywH/4I5AAAAsUlEQVQoz22RxxaCMBREBxGsIIhKVcDee83/f5jGHAPCu6vJnVXmARylAomqyFjVdFarN3hsttpM16rCGyb70gEskUyDe5v96Foy2oDTYwQ9B31G0seALgZw6cKFRxcefLrwEdBFgJAuQiCifPT5+XBU9qMh3yROij6JxYppsUh/u4/NvJ5Ms+PM5plfLJFjJTd21/hjsxV+t0eBw5H7k4oS5wtj1xsI7tfHEyQvJfd4AzK2UMUeQMzeAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTExLTI2VDE5OjUxOjQ0KzAxOjAwuqRanAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMS0yNlQxOTo1MTo0NCswMTowMMv54iAAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},35:function(e,t,a){e.exports=a.p+"static/media/loginbg.86636209.jpg"},39:function(e,t,a){e.exports=a(110)},44:function(e,t,a){},47:function(e,t,a){},53:function(e,t,a){},66:function(e,t,a){},69:function(e,t,a){},72:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){},94:function(e,t,a){},98:function(e,t,a){}},[[39,2,1]]]);
//# sourceMappingURL=main.3645afa0.chunk.js.map